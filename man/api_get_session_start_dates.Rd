% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api_get_session_start_dates.R
\name{api_get_session_start_dates}
\alias{api_get_session_start_dates}
\title{Get the start dates for the HydroVu API pull from historically flagged data}
\usage{
api_get_session_start_dates(
  incoming_historically_flagged_data_list,
  hv_api_tracking_file_path,
  sys_time_arg = Sys.time(),
  synapse_env = FALSE,
  fs = NULL
)
}
\arguments{
\item{incoming_historically_flagged_data_list}{A list of dataframes containing
historical water quality data that has been processed through the QAQC
workflow. Each list element should represent a site-parameter combination and
be named using the "site-parameter" convention.}

\item{hv_api_tracking_file_path}{File path to the parquet file that tracks API query
status for site-parameter combinations, including eligibility and success metrics.}

\item{synapse_env}{Logical, indicating whether function is running in Azure Synapse
environment (TRUE) or local environment (FALSE). Default is FALSE.}

\item{fs}{Optional filesystem object for Azure Data Lake Storage operations when
running in Synapse environment.}
}
\value{
A dataframe with three columns:
\itemize{
\item site: The monitoring location identifier
\item start_DT: The timestamp (in UTC) of the most recent reading for each site
\item end_DT: The current system time (in UTC)
}
}
\description{
Determines optimal starting timestamps for retrieving new water quality data from the HydroVu API
based on historical records. Temperature is used as the reference parameter
because it is consistently tracked by all sondes, providing the most reliable
indication of when data was last collected from each site.

The function incorporates a tracking system to monitor which site-parameter combinations
are eligible for processing, helping manage problematic data sources without disrupting
the entire pipeline. It also includes a weekly reset capability during Sunday midnight
executions, when temporarily disabled parameters can be attempted again.

The resulting timestamps serve as starting points for new API data requests,
ensuring continuous data collection without gaps or duplication.
}
\examples{
# Examples are temporarily disabled

}
\seealso{
\code{\link[=api_HydroVu_puller]{api_HydroVu_puller()}}

\code{\link[=prep_incoming_HydroVu_data]{prep_incoming_HydroVu_data()}}

\code{\link[=api_update_HydroVu_tracker]{api_update_HydroVu_tracker()}}
}
