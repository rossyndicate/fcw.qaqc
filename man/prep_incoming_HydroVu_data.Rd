% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prep_incoming_HydroVu_data.R
\name{prep_incoming_HydroVu_data}
\alias{prep_incoming_HydroVu_data}
\title{Process and summarize raw API data for water quality monitoring workflow}
\usage{
prep_incoming_HydroVu_data(
  api_dir,
  summarize_interval = "15 minutes",
  synapse_env = FALSE,
  fs = NULL
)
}
\arguments{
\item{api_dir}{Character string specifying the directory path containing the
raw parquet files downloaded from the HydroVu API.}

\item{summarize_interval}{Character string specifying the time interval to
round and aggregate timestamps to. Default is "15 minutes". Accepts any
interval format compatible with lubridate::round_date() and padr::pad()
(e.g., "1 hour", "30 minutes").}

\item{synapse_env}{Logical, whether to read files from Azure Data Lake
Storage via a Synapse environment. Default is FALSE.}

\item{fs}{AzureStor filesystem object required when \code{synapse_env = TRUE}.
Ignored otherwise.}
}
\value{
A named list of dataframes, one per site-parameter combination
(named "site-parameter"), each containing one row per time interval with:
\itemize{
\item DT_round: Rounded timestamp defining each time interval
\item site: Standardized site name (lowercase, no spaces)
\item parameter: Measurement type (e.g., "Temperature", "DO")
\item units: Measurement units (e.g., "Â°C", "mg/L")
\item mean: Average value for the interval
\item spread: Range of values within the interval (max - min)
\item n_obs: Number of observations in each interval
\item DT_join: Character representation of DT_round for joining operations
\item flag: Empty column for subsequent quality control flagging
}

Site-parameter combinations that fail during the tidy step return NULL and
are excluded from the final output with an informative message.
}
\description{
Reads raw HydroVu API parquet files from either Azure Data Lake Storage or
local storage, standardizes the data, then transforms each site-parameter
combination into a consistent time series with summary statistics. This
function combines the former munge and tidy steps into a single pipeline:
raw files are ingested and cleaned first, then each site-parameter
combination is summarized into evenly-spaced intervals with mean values,
data spread, and observation counts. Missing intervals are filled with NA
to ensure a complete time series for downstream quality control.
}
\examples{
# Examples are temporarily disabled
}
\seealso{
\code{\link[=api_HydroVu_puller]{api_HydroVu_puller()}}

\code{\link[=prep_bind_datasets]{prep_bind_datasets()}}
}
